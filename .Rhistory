install.packages('anthro')
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
load(haven)
install.packages('haven')
load(haven)
install.packages('Rtools')
load(haven)
library(haven)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
View(df)
library(haven)
library(anthro)
View(df)
help anthro_zscores()
help anthro_zscores
library(haven)
library(anthro)
library(tidyverse)
?anthro_zscores
library(lubridate)
library(dplyr)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df %>% mutate('doi' = make_date(year = DOIY, month = DOIM, day = DOID))
View(df)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
df %>% mutate('doi' = make_date(year = DOIY, month = DOIM, day = DOID))
# Create age in days
df %>%
mutate('doi' = make_date(year = DOIY, month = DOIM, day = DOID))
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- interval(ymd(doi), ymd(dob))
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- difftime(ymd(df$doi), ymd(df$dob))
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- difftime(ymd(df$doi), ymd(df$dob), units = 'days')
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- ddays(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
anthro_zscores(sex = df$HL3,
age = df$age_in_days,
is_age_in_month = FALSE,
weight = df$WEIGHT,
lenhei = df$HEIGHT,
measure = df$measure)
with(
df,
anthro_zscores(sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure)
)
with(
df,
anthro_zscores(sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure))
with(df,anthro_zscores(sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure))
df$HL3
type(df$HL3)
typeof(df$HL3)
with(
df,
anthro_prevalence(sex = HL3,
age = age_in_days,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
with(
df,
anthro::anthro_prevalence(sex = HL3,
age = age_in_days,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
with(
df,
anthro::anthro_zscores(sex = HL3,
age = age_in_days,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
typeof(df$measure)
typeof(df$age_in_days)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
with(
df,
anthro_zscores(sex = HL3,
age = age_in_days,
weight = WEIGHT,
lenhei = HEIGHT
)
)
df$HL3
anthro_zscores(sex = "f", age = 10, is_age_in_month = TRUE, weight = 10)
df_min <- df %>%
select(HL3, age_in_days, WEIGHT, HEIGHT, measure)
View(df_min)
summary(df_min)
df_min$measure
with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
df_min %>% drop_na()
df_min <- df_min %>% drop_na()
with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores <- cbind(HHMID = df_min$HHMID, zscores)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
with(
df,
anthro_zscores(sex = HL3,
age = age_in_days,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
anthro_zscores(sex = "f", age = 10, is_age_in_month = TRUE, weight = 10)
df_min <- df %>%
select(HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores <- cbind(HHMID = df_min$HHMID, zscores)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
anthro_zscores(sex = "f", age = 10, is_age_in_month = TRUE, weight = 10)
df_min <- df %>%
select(HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores1 <- cbind(HHMID = df_min$HHMID, zscores)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
anthro_zscores(sex = "f", age = 10, is_age_in_month = TRUE, weight = 10)
df_min <- df %>%
select(HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
anthro_zscores(sex = "f", age = 10, is_age_in_month = TRUE, weight = 10)
df_min <- df %>%
select(HHMID, HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
anthro_zscores(sex = "f", age = 10, is_age_in_month = TRUE, weight = 10)
df_min <- df %>%
select(HHMID, HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores <- cbind(HHMID = df_min$HHMID, zscores)
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
df <- read_sav("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II/data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
# remove NA values
df_min <- df %>%
select(HHMID, HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores <- cbind(HHMID = df_min$HHMID, zscores)
View(zscores)
dplyr::count(df, flen, sort = TRUE)
dplyr::count(zscores, flen, sort = TRUE)
dplyr::count(zscores, fwei, sort = TRUE)
dplyr::count(zscores, fwfl, sort = TRUE)
getcwd()
getwd()
setwd("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II")
getwd()
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
setwd("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II")
df <- read_sav("./data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
# remove NA values
df_min <- df %>%
select(HHMID, HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores <- cbind(HHMID = df_min$HHMID, zscores)
write.csv(zscores, "./")
library(haven)
library(anthro)
library(tidyverse)
library(lubridate)
library(dplyr)
setwd("C:/Users/Lindsey/OneDrive - A3DI/Alive & Thrive/3_Country_II")
df <- read_sav("./data/2000/children/ch_2000.sav")
# Create age in days
df$doi <- make_date(year = df$DOIY, month = df$DOIM, day = df$DOID)
df$dob <- make_date(year = df$BR3Y, month = df$BR3M, day = df$BR3D)
df$age_in_days <- as.numeric(difftime(ymd(df$doi), ymd(df$dob), units = 'days'))
# Update length/height variable
df <- df %>% mutate(measure = ifelse(AN2A == 1, "L", "H"))
# remove NA values
df_min <- df %>%
select(HHMID, HL3, age_in_days, WEIGHT, HEIGHT, measure)
df_min <- df_min %>% drop_na()
zscores <- with(
df_min,
anthro_zscores(
sex = HL3,
age = age_in_days,
is_age_in_month = FALSE,
weight = WEIGHT,
lenhei = HEIGHT,
measure = measure
)
)
zscores <- cbind(HHMID = df_min$HHMID, zscores)
write.csv(zscores, "./data/2000/children/zscores.csv")
